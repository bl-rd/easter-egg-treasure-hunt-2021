import{o as e,c as t,e as n,v as r,a as o,m as u,f as s,p as l,g as a,t as c,h as i,i as d,T as h}from"./index.f21b587d.js";const p="numeric",m="text";var w=[b(0,"Here be your first question...","42",p),b(1,"And what is yer second question?","cheese",m)];function b(e,t,n,r){return{number:e,clue:t,answer:n,inputType:r}}const y={data:()=>({model:null}),props:{answer:{type:String,required:!0},inputType:{type:String,required:!0}},computed:{isNumeric(){return this.inputType===p},inputAttrs(){return this.isNumeric?{inputmode:"numeric"}:null},isCorrect(){const{model:e,answer:t}=this;return e===t}},methods:{handleFocus(){this.model=null},handleSubmit(){const{model:e}=this;e&&this.$emit("answer",{correct:this.isCorrect})}}},v=o("label",{for:"input"},"Your answer:",-1),x=o("button",{type:"submit"}," Go ",-1);y.render=function(l,a,c,i,d,h){return e(),t("form",{onSubmit:a[3]||(a[3]=s(((...e)=>h.handleSubmit&&h.handleSubmit(...e)),["prevent"]))},[v,n(o("input",u({id:"input",type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>l.model=e)},h.inputAttrs,{onFocus:a[2]||(a[2]=(...e)=>h.handleFocus&&h.handleFocus(...e))}),null,16),[[r,l.model]]),x],32)};const T={props:{correct:{type:Boolean,required:!0}},data:()=>({inputEl:null}),computed:{outcomeText(){return this.correct?"Correct!":"Too bad me heartie..."},buttonText(){return this.correct?"Next clue":"Try again..."}},mounted(){var e;this.inputEl=document.querySelector("input"),null==(e=this.$el.querySelector("button"))||e.focus()},beforeUnmount(){var e;null==(e=this.inputEl)||e.focus()},methods:{handleClick(){const e=this.correct?"next":"again";this.$emit(e)}}},C=i();l("data-v-4b54e7a0");const f={class:"modal"};a();const A=C(((n,r,u,s,l,a)=>(e(),t("div",f,[o("h2",null,c(a.outcomeText),1),o("button",{onClick:r[1]||(r[1]=(...e)=>a.handleClick&&a.handleClick(...e))},c(a.buttonText),1)]))));T.render=A,T.__scopeId="data-v-4b54e7a0";const g=i();const M={components:{AnswerInput:y,CorrectModal:T},data:()=>({model:null,showCorrectModal:!1,correctAnswer:!1}),computed:{haveData(){return!!this.clueData},clueData(){var e;return null!=(e=w[this.clue-1])?e:null},clueText(){var e;return(null==(e=this.clueData)?void 0:e.clue)?`${this.clue}: ${this.clueData.clue}`:"Ack! There be no clue 'ere."},clueAnswer(){var e;return null==(e=this.clueData)?void 0:e.answer},clueInputType(){var e;return null==(e=this.clueData)?void 0:e.inputType}},methods:{handleCorrect(){this.showCorrectModal=!0},handleWrong(){this.showCorrectModal=!1},handleAnswer({correct:e}){this.showCorrectModal=!0,this.correctAnswer=e},handleNext(){this.showCorrectModal=!1,this.$emit("next")}}},N=Object.assign(M,{expose:[],props:{clue:Number},setup:function(n){return g(((r,u)=>(e(),t("div",{class:"clue",key:n.clue},[o("p",null,c(r.clueText),1),o(y,{answer:r.clueAnswer,inputType:r.clueInputType,onAnswer:r.handleAnswer},null,8,["answer","inputType","onAnswer"]),o(h,{name:"fade"},{default:g((()=>[r.showCorrectModal?(e(),t(T,{key:0,correct:r.correctAnswer,onNext:r.handleNext,onAgain:u[1]||(u[1]=e=>r.showCorrectModal=!1)},null,8,["correct","onNext"])):d("",!0)])),_:1})]))))}});N.__scopeId="data-v-eba0a502";export default N;
